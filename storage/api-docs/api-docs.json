{
    "openapi": "3.0.0",
    "info": {
        "title": "Share2People API",
        "version": "1.0.0"
    },
    "paths": {
        "/api/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Register a new user",
                "description": "Register a new user.",
                "operationId": "b55b00c51c2fc26dbc3b549fe706087d",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "secret123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "secret123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered successfully. A verification email has been sent.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "User registered successfully. Please check your email to verify your account."
                                        },
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "john@example.com"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "User login",
                "description": "Login user and return a JWT.",
                "operationId": "5e3c17d43e5d2312f89d46cac923b56e",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "secret123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User logged in successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string",
                                            "example": "YOUR_JWT_TOKEN"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "bearer"
                                        },
                                        "expires_in": {
                                            "type": "integer",
                                            "example": 3600
                                        },
                                        "user_id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "name": {
                                            "type": "string",
                                            "example": "John Doe"
                                        },
                                        "email": {
                                            "type": "string",
                                            "example": "john@example.com"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Email not verified"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/api/me": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Get authenticated user details",
                "description": "Get the authenticated user's details.",
                "operationId": "3845fcb670041826284a078e42842859",
                "responses": {
                    "200": {
                        "description": "User details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "name": {
                                            "type": "string",
                                            "example": "John Doe"
                                        },
                                        "email": {
                                            "type": "string",
                                            "example": "john@example.com"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "User logout",
                "description": "Log the user out (invalidate the token).",
                "operationId": "19ebcd079f874c99900a239168335059",
                "responses": {
                    "200": {
                        "description": "User logged out successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Successfully logged out"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/refresh": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Refresh JWT token",
                "description": "Refresh a token.",
                "operationId": "baa8d1ac09a6475b3d5c2cae7e886056",
                "responses": {
                    "200": {
                        "description": "Token refreshed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "access_token": {
                                            "type": "string",
                                            "example": "NEW_JWT_TOKEN"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "example": "bearer"
                                        },
                                        "expires_in": {
                                            "type": "integer",
                                            "example": 3600
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/email/verify/{id}/{hash}": {
            "get": {
                "tags": [
                    "Email"
                ],
                "summary": "Verify email address",
                "description": "Verify user's email.",
                "operationId": "550961cf0bb06e304a17e8e587215f5f",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "hash",
                        "in": "path",
                        "description": "Email verification hash",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Email verified successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Email verified successfully."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid verification link"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/email/resend": {
            "post": {
                "tags": [
                    "Email"
                ],
                "summary": "Resend email verification link",
                "description": "Resend the email verification notification.",
                "operationId": "8e6946f20f662bb50b375cc2f9fd3f8a",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Verification email resent",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Verification email resent."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/password/forgot": {
            "post": {
                "tags": [
                    "Password"
                ],
                "summary": "Send password reset link",
                "description": "Send a password reset link to the given email.",
                "operationId": "0aa390e780fdba0d57e8338480ebdfa1",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Reset link sent successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "We have emailed your password reset link!"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/password/reset": {
            "post": {
                "tags": [
                    "Password"
                ],
                "summary": "Reset password",
                "description": "Reset the given user's password.",
                "operationId": "b2e2e70eb3e9042eac1e783bb850b04d",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "token",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "token": {
                                        "type": "string",
                                        "example": "reset_token_here"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "newsecret123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "newsecret123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Password reset successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Password reset successfully"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/shares": {
            "get": {
                "tags": [
                    "Shares"
                ],
                "summary": "Get all shares",
                "description": "Get all shares.",
                "operationId": "4ece1547770615e0691697d836103c3f",
                "responses": {
                    "200": {
                        "description": "List of shares",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "properties": {
                                            "id": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "title": {
                                                "type": "string",
                                                "example": "My Share"
                                            },
                                            "description": {
                                                "type": "string",
                                                "example": "Optional description"
                                            },
                                            "content_type": {
                                                "type": "string",
                                                "example": "markdown"
                                            },
                                            "content": {
                                                "type": "string",
                                                "example": "## Markdown Content"
                                            },
                                            "file_url": {
                                                "type": "string",
                                                "example": "https://example.com/image.jpg"
                                            },
                                            "short_code": {
                                                "type": "string",
                                                "example": "abc123"
                                            },
                                            "created_at": {
                                                "type": "string",
                                                "example": "2025-02-20 12:00:00"
                                            },
                                            "updated_at": {
                                                "type": "string",
                                                "example": "2025-02-20 12:00:00"
                                            }
                                        },
                                        "type": "object"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Shares"
                ],
                "summary": "Create a new share",
                "description": "Create a new share.",
                "operationId": "61c991abffa2190f4b7fa948c46db043",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "user_id",
                                    "title",
                                    "content_type"
                                ],
                                "properties": {
                                    "user_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "title": {
                                        "type": "string",
                                        "example": "My Share"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Optional description"
                                    },
                                    "content_type": {
                                        "type": "string",
                                        "enum": [
                                            "shortlink",
                                            "link",
                                            "code",
                                            "markdown",
                                            "image"
                                        ],
                                        "example": "markdown"
                                    },
                                    "content": {
                                        "type": "string",
                                        "example": "## Markdown Content"
                                    },
                                    "file_url": {
                                        "type": "string",
                                        "example": "https://example.com/image.jpg"
                                    },
                                    "short_code": {
                                        "type": "string",
                                        "example": "abc123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Share created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "title": {
                                            "type": "string",
                                            "example": "My Share"
                                        },
                                        "description": {
                                            "type": "string",
                                            "example": "Optional description"
                                        },
                                        "content_type": {
                                            "type": "string",
                                            "example": "markdown"
                                        },
                                        "content": {
                                            "type": "string",
                                            "example": "## Markdown Content"
                                        },
                                        "file_url": {
                                            "type": "string",
                                            "example": "https://example.com/image.jpg"
                                        },
                                        "short_code": {
                                            "type": "string",
                                            "example": "abc123"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:00:00"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:00:00"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/shares/{id}": {
            "get": {
                "tags": [
                    "Shares"
                ],
                "summary": "Get share by ID",
                "description": "Get a share by ID.",
                "operationId": "00cff882d9dc606efaf088c9864cc9d9",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Share ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Share details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "title": {
                                            "type": "string",
                                            "example": "My Share"
                                        },
                                        "description": {
                                            "type": "string",
                                            "example": "Optional description"
                                        },
                                        "content_type": {
                                            "type": "string",
                                            "example": "markdown"
                                        },
                                        "content": {
                                            "type": "string",
                                            "example": "## Markdown Content"
                                        },
                                        "file_url": {
                                            "type": "string",
                                            "example": "https://example.com/image.jpg"
                                        },
                                        "short_code": {
                                            "type": "string",
                                            "example": "abc123"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:00:00"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:00:00"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Shares"
                ],
                "summary": "Update an existing share",
                "description": "Update an existing share.",
                "operationId": "686b42f95890154784eb4e4fd6be6e5d",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Share ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "title",
                                    "content_type"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string",
                                        "example": "Updated Share"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Updated description"
                                    },
                                    "content_type": {
                                        "type": "string",
                                        "enum": [
                                            "shortlink",
                                            "link",
                                            "code",
                                            "markdown",
                                            "image"
                                        ],
                                        "example": "markdown"
                                    },
                                    "content": {
                                        "type": "string",
                                        "example": "## Updated Content"
                                    },
                                    "file_url": {
                                        "type": "string",
                                        "example": "https://example.com/updated.jpg"
                                    },
                                    "short_code": {
                                        "type": "string",
                                        "example": "upd123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Share updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "title": {
                                            "type": "string",
                                            "example": "Updated Share"
                                        },
                                        "description": {
                                            "type": "string",
                                            "example": "Updated description"
                                        },
                                        "content_type": {
                                            "type": "string",
                                            "example": "markdown"
                                        },
                                        "content": {
                                            "type": "string",
                                            "example": "## Updated Content"
                                        },
                                        "file_url": {
                                            "type": "string",
                                            "example": "https://example.com/updated.jpg"
                                        },
                                        "short_code": {
                                            "type": "string",
                                            "example": "upd123"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:00:00"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:30:00"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Shares"
                ],
                "summary": "Delete a share",
                "description": "Delete a share.",
                "operationId": "a5a7569fd2ad5479dc5859334d295515",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Share ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Share deleted successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/users/{id}": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Get user details",
                "description": "Get user details.",
                "operationId": "632fc1cd178378752a2c0abdccfd4f11",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "name": {
                                            "type": "string",
                                            "example": "John Doe"
                                        },
                                        "email": {
                                            "type": "string",
                                            "example": "john@example.com"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:00:00"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:00:00"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Users"
                ],
                "summary": "Update user details",
                "description": "Update user details.",
                "operationId": "00602d8803c017bb338d31022c0d29b4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Updated Name"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "updated@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "newsecret"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "name": {
                                            "type": "string",
                                            "example": "Updated Name"
                                        },
                                        "email": {
                                            "type": "string",
                                            "example": "updated@example.com"
                                        },
                                        "created_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:00:00"
                                        },
                                        "updated_at": {
                                            "type": "string",
                                            "example": "2025-02-20 12:30:00"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Users"
                ],
                "summary": "Delete a user",
                "description": "Delete a user.",
                "operationId": "e9dd7b2bfb8e4623a0d8a25fdd44a1c9",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "User ID",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "User deleted successfully"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Auth",
            "description": "JWT Authentication endpoints"
        },
        {
            "name": "Email",
            "description": "Email verification endpoints"
        },
        {
            "name": "Password",
            "description": "Password reset and recovery endpoints"
        },
        {
            "name": "Shares",
            "description": "Share management endpoints"
        },
        {
            "name": "Users",
            "description": "User management endpoints"
        }
    ]
}